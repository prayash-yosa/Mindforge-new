Sprint #,Sprint Name,Task ID,Task Title,User Story (short),Area,Type,AI/Non-AI,Risk,SP,Status,Start Date,Completed Date,Dependencies,Acceptance Criteria Ref,Tracker Notes (Dev Agent)
1,Foundation & Auth,1.1,API gateway and request validation,"Backend: REST gateway, validation, consistent error shape",Backend — API,Hardening,Non-AI,Low,2,Done,2026-02-10,2026-02-11,None,Backlog § Task 1.1 Checklist,"REBUILT on NestJS+TypeScript (locked stack). Modular: /modules/{auth,student,attendance,activities} with controller/service/repository/policy pattern. Global: Helmet headers; HTTPS enforce; CORS; JSON-only; class-validator DTO pipes (whitelist+forbidNonWhitelisted); GlobalExceptionFilter → {code,message,details?} for 400-500; RequestId interceptor; LoggingInterceptor; ThrottlerGuard (X-RateLimit headers); AuthGuard (@Public bypass); AuthorizationGuard; AuditService. Health: GET /health. Auth: POST /v1/auth/mpin/verify|lockout/status|forgot-mpin with DTO validation → service stubs. OpenAPI/Swagger at /api/docs. Zero TS build errors."
1,Foundation & Auth,1.2,MPIN verify and token/session issuance,"Student: enter 6-digit MPIN, get token/session",Backend — Auth,Feature,Non-AI,Medium,3,Done,2026-02-11,2026-02-11,1.1,Backlog § Task 1.2 Checklist,"POST /v1/auth/mpin/verify: bcrypt MPIN hash verification via AuthRepository (in-memory store with seeded test student; DB in Task 2.1). On success: JWT issued (sub=studentId, 1h expiry, issuer=mindforge-backend) via @nestjs/jwt; session recorded. On failure: 401 INVALID_CREDENTIALS (generic msg — no identity leak). Lockout: AuthPolicy enforces 5 attempts → 15 min lockout (403 ACCOUNT_LOCKED with lockedUntil). Rate limit: @Throttle 10 req/60s on mpin/verify. Audit: LOGIN_SUCCESS/LOGIN_FAILURE/LOGIN_BLOCKED_LOCKOUT via AuditService (requestId+IP+studentId). No MPIN in logs or response. lockout/status endpoint returns live lockout state."
1,Foundation & Auth,1.3,Lockout status and Forgot MPIN entry points,"Student: see lockout status and Forgot MPIN path",Backend — Auth,Feature,Non-AI,Low,2,Done,2026-02-11,2026-02-11,1.2,Backlog § Task 1.3 Checklist,"POST /v1/auth/lockout/status: fully implemented — returns isLocked, lockedUntil, attemptsRemaining, maxAttempts (5), lockoutDurationMinutes (15). Unknown studentId returns generic not-locked (no identity leak). DTO validates studentId as UUID; 400 on invalid. POST /v1/auth/forgot-mpin: returns 202 Accepted with documented message — v1 entry point only; full OTP flow deferred. Audit: FORGOT_MPIN_INITIATED logged. Error shape consistent: {code,message,details?} on all error paths."
1,Foundation & Auth,1.4,Auth middleware and Bearer token validation,"Backend: validate Bearer on protected routes",Backend — API,Hardening,Non-AI,Low,1,Done,2026-02-11,2026-02-11,1.2,Backlog § Task 1.4 Checklist,"AuthGuard now verifies JWT via JwtService.verifyAsync with ConfigService secret. Expired token → 401 TOKEN_EXPIRED; invalid/wrong-secret → 401 INVALID_TOKEN; missing header → 401 UNAUTHORIZED. On success: extracts sub/studentId/class/board from JWT payload and attaches to request.student. @Student() param decorator for clean controller access. @Public() routes bypass guard. AuthModule @Global() exports JwtModule for guard DI. GET /v1/student/me added as protected endpoint demo — returns authenticated student context. No cross-student access: business layer scoped to request.student.id."
2,Data & Backend Core,2.1,Database schema and migrations,"System: versioned schema for students, activities, etc.",Backend — Data,Hardening,Non-AI,Low,3,Done,2026-02-12,2026-02-12,None,Backlog § Task 2.1 Checklist,"TypeORM + PostgreSQL (prod) / better-sqlite3 (dev). 11 entities: students, syllabus_metadata, teaching_feed, activities, questions, responses, attendance, doubt_threads, doubt_messages, sessions, audit_log. Indexes: student_id, activity_id, date (attendance), syllabus composite (class+board+subject+chapter). Versioned migration: InitialSchema20260211001 with up/down (idempotent). DatabaseModule configures TypeORM via ConfigService; synchronize in dev, migrations in prod. All per Architecture §5.1."
2,Data & Backend Core,2.2,Data access layer (repositories/DAOs),"Business layer: repositories for all entities",Backend — Data,Feature,Non-AI,Low,3,Done,2026-02-12,2026-02-12,2.1,Backlog § Task 2.2 Checklist,"10 repositories: StudentRepo, SyllabusRepo, TeachingFeedRepo, ActivityRepo, QuestionRepo, ResponseRepo, AttendanceRepo, DoubtRepo, SessionRepo, AuditLogRepo. BaseRepository with withErrorHandling(): transient DB errors (deadlock, connection) → retry 3x with exponential backoff; unique constraint → 409 ConflictException; all queries parameterized via TypeORM. All queries scoped by student_id. AuthRepository migrated to TypeORM (students+sessions from DB, lockout in-memory until Redis). AuditService now persists to audit_log table."
2,Data & Backend Core,2.3,Business layer skeleton and dependency injection,"API layer: business logic calls data access only",Backend — Business,Hardening,Non-AI,Low,2,Done,2026-02-12,2026-02-12,2.2,Backlog § Task 2.3 Checklist,"Business services: StudentService (today's plan, profile, sync status), ActivitiesService (get activity, submit answer, pause, results), GradingService (deterministic MCQ/TF/fill-blank; AI stub for open-ended), AttendanceService (summary+calendar), DoubtService (threads, messages, AI stub). Domain exceptions: InvalidMpinException, AccountLockedException, ActivityNotFoundException, ActivityAlreadyCompletedException, QuestionNotFoundException, DoubtThreadNotFoundException, StudentNotFoundException, AiUnavailableException — all mapped to HTTP codes. API→Service→Repo layering enforced."
3,Today's Plan & Activities API,3.1,GET /student/today (today's plan),"Student: get today's tasks and progress summary",Backend — Business,Feature,Non-AI,Low,2,Done,2026-02-13,2026-02-13,"2.2, 2.3",Backlog § Task 3.1 Checklist,"GET /v1/student/today: returns student context (id, displayName, class, board) + task cards (id, type, title, syllabusRef{subject,chapter,topic}, questionCount, estimatedMinutes, status, score) + completedToday/totalToday/progressPercent. Auth required; scoped by student_id via @Student() decorator. Empty state: empty tasks array with 0 progress. GET /v1/student/profile: returns profile + totalActivitiesCompleted. DevSeederService seeds 3 activities + 5 questions + 10 attendance records in dev. Coding standards applied: no TODOs, explicit edge cases, domain exceptions only."
3,Today's Plan & Activities API,3.2,GET /student/activities/:type/:id and POST pause,"Student: open activity, see questions, pause/save progress",Backend — Business,Feature,Non-AI,Low,2,Done,2026-02-13,2026-02-13,"2.2, 2.3",Backlog § Task 3.2 Checklist,"GET /v1/student/activities/:type/:id: returns activity metadata + questions (id, type, content, options, difficulty, sortOrder, answered). Correct answers never exposed. PENDING→IN_PROGRESS on first access. Types: homework, quiz, test, gap_bridge. 404 if not found or not assigned. POST /v1/student/activities/:type/:id/pause: saves progress, marks PAUSED. No-op if already completed. Auth required; scoped by student_id."
3,Today's Plan & Activities API,3.3,POST /student/activities/:type/:id/respond,"Student: submit answer, get correct/incorrect (deterministic grading)",Backend — Business,Feature,Non-AI,Low,3,Done,2026-02-13,2026-02-13,3.2,Backlog § Task 3.3 Checklist,"POST /v1/student/activities/:type/:id/respond: accepts {questionId, answer, requestFeedbackLevel?}. DTO validation: UUID for questionId, non-empty answer, optional FeedbackLevel enum. Deterministic grading for MCQ/TRUE_FALSE/FILL_BLANK (case-insensitive compare). Returns {questionId, isCorrect, score, feedback, feedbackLevel, isComplete, nextQuestionId}. Idempotent: duplicate submit returns existing result. Auto-completes activity when all questions answered (updates status+score). 409 if activity already completed. 404 for unknown activity/question."
3,Today's Plan & Activities API,3.4,GET /student/results/:type/:id,"Student: get activity result (score, breakdown, suggested next)",Backend — Business,Feature,Non-AI,Low,1,Done,2026-02-13,2026-02-13,3.3,Backlog § Task 3.4 Checklist,"GET /v1/student/results/:type/:id: returns activityId, type, title, status, totalQuestions, answeredQuestions, correctAnswers, score (0-100), per-question breakdown [{questionId, isCorrect, score}], suggestedNext [{type, title, reason}]. Suggested next based on performance: <60%→gap_bridge, 60-89%→quiz, 90%+→next topic. Auth required; scoped by student_id. 404 if not found."
4,AI Integration & Grading,4.1,AI provider integration and timeout/fallback,"Business layer: call AI with timeout and fallback",Backend — Integration,Feature,AI,Medium,3,Done,2026-02-16,2026-02-16,2.3,Backlog § Task 4.1 Checklist,"AiProviderService: OpenAI-compatible HTTP client using native fetch+AbortController. 10s timeout → deterministic fallback. Response validated (sanitized, no raw errors). Token usage logged (model, tier, tokens, latency). FallbackConfig per call site. PromptBuilderService: typed prompt builders for grading, feedback, doubt — all use syllabus context only (no PII, pseudonymous). Cost tiering: grading=cheap model, feedback=higher model. Config: AI_BASE_URL, AI_API_KEY, AI_GRADING_MODEL, AI_FEEDBACK_MODEL, AI_TIMEOUT_MS, AI_MAX_TOKENS, AI_TEMPERATURE. AiModule @Global."
4,AI Integration & Grading,4.2,GET /student/activities/:type/:id/feedback (progressive guidance),"Student: next AI guidance level (Hint → Approach → Concept → Solution)",Backend — Business,Feature,AI,Medium,3,Done,2026-02-16,2026-02-16,"3.3, 4.1",Backlog § Task 4.2 Checklist,"GET /v1/student/activities/:type/:id/feedback?questionId=&level=. FeedbackService enforces level order: Hint→Approach→Concept→Solution. Auto-advances if no level specified. No skipping (resolveTargetLevel ensures monotonic progression). Returns {questionId, level, content, fromAi, nextLevel, maxLevelReached}. Persists feedbackLevel+aiFeedback+aiConversationRef to response entity. Fallback: static syllabus-aware hints when AI unavailable. 404 for unknown activity/question."
4,AI Integration & Grading,4.3,Deterministic and AI-assisted grading rules,"System: deterministic for objective; AI/rubric for open-ended",Backend — Business,Feature,AI,Low,2,Done,2026-02-16,2026-02-16,"3.3, 4.1",Backlog § Task 4.3 Checklist,"GradingService: MCQ/TRUE_FALSE/FILL_BLANK → deterministic (case-insensitive exact match, score 0/100). SHORT_ANSWER/LONG_ANSWER → AI-assisted via AiProviderService with rubric context; parseGradingResponse extracts JSON {isCorrect, score, feedback}; score clamped 0-100. No API key → graceful 'pending' status. ActivitiesService.submitAnswer now delegates to GradingService. AI grading results stored: aiFeedback+aiConversationRef in response entity. No PII in prompts."
5,Attendance & Doubts API,5.1,GET /student/attendance (summary and calendar),"Student: attendance summary and calendar for period",Backend — Business,Feature,Non-AI,Low,2,Done,2026-02-17,2026-02-17,"2.2, 2.3",Backlog § Task 5.1 Checklist,"GET /v1/student/attendance: AttendanceController with AttendanceQueryDto — period shortcuts (this_month, last_month, this_term) or explicit startDate/endDate. Returns {summary: {studentId, period, totalDays, present, absent, late, attendancePercent}, calendar: [{date, status}]}. Default: this_month. Timezone-safe date formatting (no UTC shift). Auth required; scoped by student_id. Validation: enum for period, regex for YYYY-MM-DD. Empty state: 0 counts + empty calendar."
5,Attendance & Doubts API,5.2,Doubts: GET list GET thread POST message with syllabus context,"Student: doubt threads with Class→Subject→Chapter→Topic context",Backend — Business,Feature,AI,Medium,3,Done,2026-02-17,2026-02-17,"4.1, 2.2, 2.3",Backlog § Task 5.2 Checklist,"DoubtsController: GET /v1/student/doubts (list threads), GET /v1/student/doubts/:threadId (thread + messages), POST /v1/student/doubts (new thread or reply with syllabus context). DTO: CreateDoubtDto with message, optional threadId, syllabusClass/Subject/Chapter/Topic. Replies inherit thread's syllabus context. AI responses via AiProviderService with syllabus-aligned prompt (fallback on AI failure). GET /v1/student/syllabus/tree: SyllabusController+SyllabusService — returns Class→Subject→Chapter→Topic hierarchy from flat records. Both new modules registered."
5,Attendance & Doubts API,5.3,GET /student/profile and GET /student/sync/status,"Student: profile and sync status (conflict hint)",Backend — Business,Feature,Non-AI,Low,2,Done,2026-02-17,2026-02-17,"2.2, 2.3",Backlog § Task 5.3 Checklist,"Enhanced profile: GET /v1/student/profile now returns progressOverview [{type, total, completed, averageScore}] via ActivityRepository.getProgressOverviewForStudent (GROUP BY type, AVG score). GET /v1/student/sync/status: returns {lastSyncAt, hasConflict, conflictHint?}. Stub — real sync tracking deferred to Sprint 7. Auth required; scoped by student_id."
6,Client — Login Home Activity Results,6.1,Client app shell and API client (auth REST error shape),"Client: Bearer token, error shape, retry",Frontend,Feature,Non-AI,Low,2,Not Started,,,API contract,Backlog § Task 6.1 Checklist,
6,Client — Login Home Activity Results,6.2,Login screen (Screen 1) per UX spec,"Student: 6-digit MPIN, keypad, error/lockout states",Frontend,Feature,Non-AI,Low,2,Not Started,,"6.1; API 1.2, 1.3",Backlog § Task 6.2 Checklist,
6,Client — Login Home Activity Results,6.3,Home screen (Screen 2) — Today's Plan,"Student: task cards, progress bar, completed today",Frontend,Feature,Non-AI,Low,2,Not Started,,"6.1; API 3.1",Backlog § Task 6.3 Checklist,
6,Client — Login Home Activity Results,6.4,Activity screen (Screen 3) — question answer AI feedback panel,"Student: question, submit answer, AI feedback or fallback",Frontend,Feature,AI,Medium,3,Not Started,,"6.1; API 3.2, 3.3, 4.2",Backlog § Task 6.4 Checklist,
6,Client — Login Home Activity Results,6.5,Results screen (Screen 4),"Student: score, breakdown, suggested next",Frontend,Feature,Non-AI,Low,1,Not Started,,"6.1; API 3.4",Backlog § Task 6.5 Checklist,
7,Client — Attendance Doubts Profile & Sync,7.1,Attendance screen (Screen 5) — calendar and summary,"Student: attendance summary and calendar",Frontend,Feature,Non-AI,Low,2,Not Started,,"6.1; API 5.1",Backlog § Task 7.1 Checklist,
7,Client — Attendance Doubts Profile & Sync,7.2,Doubts screen (Screen 6) with syllabus context selector,"Student: AI chat with Class→Subject→Chapter→Topic context",Frontend,Feature,AI,Medium,3,Not Started,,"6.1; API 5.2",Backlog § Task 7.2 Checklist,
7,Client — Attendance Doubts Profile & Sync,7.3,Profile screen and logout,"Student: profile (name, class, board, progress) and logout",Frontend,Feature,Non-AI,Low,1,Not Started,,"6.1; API 5.3",Backlog § Task 7.3 Checklist,
7,Client — Attendance Doubts Profile & Sync,7.4,Sync status and conflict modal,"Student: sync status; conflict Use latest? / Keep current",Frontend,Feature,Non-AI,Low,2,Not Started,,"6.1, 6.3; API 5.3",Backlog § Task 7.4 Checklist,
8,DevOps Security Hardening & NotebookLM,8.1,Deployment pipeline and single-region (India) hosting,"Team: CI/CD, deploy staging→production, single region",DevOps,Hardening,Non-AI,Low,2,Not Started,,,App DB,Backlog § Task 8.1 Checklist,
8,DevOps Security Hardening & NotebookLM,8.2,Secrets vault and no secrets in code/client,"System: API keys, DB credentials in vault",DevOps / Security,Hardening,Non-AI,Medium,1,Not Started,,,8.1,Backlog § Task 8.2 Checklist,
8,DevOps Security Hardening & NotebookLM,8.3,Rate limiting and audit logging,"System: rate limit on auth; audit log for sensitive ops",Backend — Security,Hardening,Non-AI,Low,2,Not Started,,"1.2, 2.1",Backlog § Task 8.3 Checklist,
8,DevOps Security Hardening & NotebookLM,8.4,Monitoring and alerting,"Team: health checks, latency/error metrics, alert on 5xx/auth",DevOps,Hardening,Non-AI,Low,1,Not Started,,,8.1,Backlog § Task 8.4 Checklist,
8,DevOps Security Hardening & NotebookLM,8.5,NotebookLM read-only integration (teaching feed),"Business layer: consume daily teaching feed for homework/quiz",Backend — Integration,Feature,Non-AI,Medium,2,Not Started,,"2.2, 2.3",Backlog § Task 8.5 Checklist,
